<%= AppConfig.content_widget_styles %>

<% if @error %>
<p><strong>There is a problem with the way this widget is configured.</strong> It is missing a valid content tag or content type.</p>
<% else %>
<div id="content_widget">
  <h3><img src="http://<%= request.host_with_port %>/images/common/extension_icon_40x40.png" /> <span>eXtension <%= @content_type_hash[:type] %>: 
<%= @content_tags %></span></h3>  
  <ul>
    <% if @content_type_hash[:contents].length == 0 %>
    <li>There is no matching content at the current time.</li> 
    <% end %>


<% @content_type_hash[:contents].each do |content| %>
<% if content.class.name == "Faq" %>
<li><a href=<%= url_for :controller => '/faq', :action => :detail, :id => content.id, :only_path => false %>> <%= content.question %>
<% elsif content.class.name == "Article" %>
<li><a href=<%= url_for :controller => '/articles', :action => :page, :id => content.id, :only_path => false %>> <%= content.title %>
<% elsif content.class.name == "Event" %>
<li><a href=<%= url_for :controller => '/events', :action => :detail, :id => content.id, :only_path => false %>> <%= content.title %>
<% else %>
<% next %>
<% end %>
</a></li>
<% end %>
</ul>

<p><a href="http://<%= request.host %>/widgets\">Create your own eXtension widget</a></p></div>


<div id="widget_code_module">
  <p>Copy the code below and paste it on your website:</p>
  <p><%= text_area_tag :widget_code, @widget_code, :rows => "5" %></p>
</div>
<% end %>