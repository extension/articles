<div id="widget_builder">
    <h2>Customize Your Content Widget</h2>
     
    <% form_tag({}, {:id => 'content_widget_builder'}) do %>
    
    <p><label>Type of Content:</label></p>
    <ul>
    <li><%= radio_button_tag(:type, 'articles', false) %> Articles</li>
    <li><%= radio_button_tag(:type, 'faqs', false) %> Faqs</li>
    <li><%= radio_button_tag(:type, 'events', false) %> Events</li>
    <li><%= radio_button_tag(:type, 'faqs_articles', true) %> Articles and Faqs</li>
    </ul>
    
    <p class="inline"><label>Number of items: <%= text_field_tag :quantity, @default_quantity, :size => 3 %></label></p>
    
    <p class="inline"><label>Width: <%= text_field_tag :width, @default_width, :size => 3 %> pixels</label></p>
   
      <p><label>Content Tags:</label>Comma Separated (ie. horses,horticulture,...)</p>
      <p><%= text_area_tag :tags, nil, :cols => "50", :rows => "2" %></p>
      <p>Launched Categories (click to add)</p>
      <div id="tag_wrapper">
      <ul class="select_from_tags">
      <% @launched_categories.each do |category| %>
          <li><%= link_to_function category.name, "addTagsToList($('tags'), '#{category.name}')" %></li>
      <% end %>
      </ul>
      </div>

    <% end %>
    
    <%= button_to_remote 'Generate Widget', :url => { :action => :generate_new_widget },
        :update => 'example_widget',
        :submit => 'content_widget_builder',
        :loading => "Element.show('loading')",
        :complete    => "Element.hide('loading')"  %>
                
</div>

<div id="example_widget">
  <div id="loading" style="display:none"><p><img src='/images/widgets/ajax_loader_white.gif' /> Loading... </p></div>
  <script type="text/javascript" src="<%= url_for :controller => 'widgets/content', :action => :show, :escape => false, :quantity => @default_quantity, :width => @default_width, :type => 'articles_faqs' %>"></script>
  
  <div id="widget_code_module">
    <p>Copy the code below and paste it on your website:</p>
    <p><%= text_area_tag :widget_code, @widget_code, :rows => "5" %></p>
  </div>
  
</div>

<br class="clearing" />